<h2>Login</h2>
<p>Wenn du bereits Zugangsdaten erhalten hast, melde dich jetzt mit diesen an.</p>

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div *ngIf="isLoading" class="loading-spinner">
        <mat-spinner></mat-spinner>
        <p>Verarbeitung ...</p>
    </div>
    <div *ngIf="!isLoading">
        <div>
            <mat-form-field class="input-full-width">
            <mat-label>Nutzername</mat-label>
            <input matInput type="text" id="usernameInput" formControlName="usernameInput">
        </mat-form-field>
        @if(loginForm.controls['usernameInput'].hasError('required') &&
        (loginForm.controls['usernameInput'].dirty ||
        loginForm.controls['usernameInput'].touched)){
        <mat-error>Ein Nutzername muss eingegeben werden.</mat-error>
        }
        </div>
        <div>
            <mat-form-field class="input-full-width">
            <mat-label>Passwort</mat-label>
            <input matInput type="password" id="passwordInput" formControlName="passwordInput">
        </mat-form-field>
        @if(loginForm.controls['passwordInput'].hasError('required') &&
        (loginForm.controls['passwordInput'].dirty ||
        loginForm.controls['passwordInput'].touched)){
        <mat-error>Ein Passwort eingegeben werden.</mat-error>
        }
        </div>
        
    </div>
    <button mat-raised-button type="submit" [disabled]="loginForm.invalid || isLoading">
        {{ isLoading ? 'Wird gesendet...' : 'Login' }}
    </button>

</form>

<div *ngIf="erfolgsmeldung">
    <p>{{ erfolgsmeldung }}</p>
</div>

<div *ngIf="fehlermeldung">
    <p>{{ fehlermeldung }}</p>
</div>